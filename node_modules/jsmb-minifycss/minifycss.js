/**
 * @description
 * 直接调用clean-css做css压缩
 *
 * @author pakinguo
 */

var grunt = require('grunt');
var colors = require('colors');
var CleanCSS = require('clean-css');


module.exports = function (files, dest, options) {
    var content = concat(files);

    var minimized = new CleanCSS().minify(content).styles;

    grunt.file.write(dest, minimized);

    // console.log('[Succ]: '.green + fileObj.dest + ' is created!'.green);
}


function concat(files) {
    var content;
    if (!(files instanceof Array)) {
        content =  grunt.file.read(files);
    } else {
        content = "";
        files.forEach(function (file) {
            content += grunt.file.read(file);
        });
    }

    return content;
}

